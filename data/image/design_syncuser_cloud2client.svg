<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="586px" preserveAspectRatio="none" style="width:593px;height:586px;" version="1.1" viewBox="0 0 593 586" width="593px" zoomAndPan="magnify"><defs><filter height="300%" id="f19dynvqinrift" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="106" x="239.25" y="44.2637">Update user</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="128" x="228.25" y="66.9043">Cloud to jhcisdb</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="0" x="294.75" y="89.5449"/><rect fill="#FFFFFF" filter="url(#f19dynvqinrift)" height="336.2734" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="264" y="199.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="124" x2="124" y1="137.1094" y2="545.0859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="269" x2="269" y1="137.1094" y2="545.0859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="548.5" x2="548.5" y1="137.1094" y2="545.0859"/><rect fill="#FEFECE" filter="url(#f19dynvqinrift)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="93" y="100.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="100" y="122.0332">jhcisdb</text><rect fill="#FEFECE" filter="url(#f19dynvqinrift)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="93" y="544.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="100" y="565.6191">jhcisdb</text><rect fill="#FEFECE" filter="url(#f19dynvqinrift)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="242" y="100.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="249" y="122.0332">Client</text><rect fill="#FEFECE" filter="url(#f19dynvqinrift)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="242" y="544.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="249" y="565.6191">Client</text><rect fill="#FEFECE" filter="url(#f19dynvqinrift)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="521.5" y="100.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="528.5" y="122.0332">Cloud</text><rect fill="#FEFECE" filter="url(#f19dynvqinrift)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="521.5" y="544.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="528.5" y="565.6191">Cloud</text><rect fill="#FFFFFF" filter="url(#f19dynvqinrift)" height="336.2734" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="264" y="199.8125"/><polygon fill="#A80036" points="257,165.4609,267,169.4609,257,173.4609,261,169.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="263" y1="169.4609" y2="169.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="131" y="164.6045">ดึงข้อมูลรายการ User</text><polygon fill="#A80036" points="285,195.8125,275,199.8125,285,203.8125,281,199.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="279" x2="548" y1="199.8125" y2="199.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="291" y="194.9561">ดึงข้อมูลรายการ User</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="274" x2="316" y1="236.8398" y2="236.8398"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="316" x2="316" y1="236.8398" y2="249.8398"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="275" x2="316" y1="249.8398" y2="249.8398"/><polygon fill="#A80036" points="285,245.8398,275,249.8398,285,253.8398,281,249.8398" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="281" y="231.9834">ตรวจสอบหารายการที่มีการ Update to jhcisdb</text><path d="M8,212.8125 L8,254.8125 L255,254.8125 L255,222.8125 L245,212.8125 L8,212.8125 " fill="#FBFB77" filter="url(#f19dynvqinrift)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M245,212.8125 L245,222.8125 L255,222.8125 L245,212.8125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="14" y="231.3076">ตรวจสอบจาก Timestamp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="14" y="247.6592">ดูว่าเวลาไหนจาก Cloud มากกว่า jhcisdb</text><polygon fill="#A80036" points="135,282.8672,125,286.8672,135,290.8672,131,286.8672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="129" x2="263" y1="286.8672" y2="286.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="141" y="282.0107">Update ข้อมูล User</text><rect fill="#FFFFFF" filter="url(#f19dynvqinrift)" height="91.7578" style="stroke: #000000; stroke-width: 2.0;" width="205" x="90" y="294.8672"/><polygon fill="#EEEEEE" points="90,294.8672,152,294.8672,152,302.8672,142,312.8672,90,312.8672,90,294.8672" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="103" y="310.3623">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="104" y="330.3623">ข้อควรระวัง</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="104" y="346.7139">- ให้ใช้ name กับ idcard เป็น key</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="104" y="363.0654">- ตรวจสอบเรื่องแปลงเวลา</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="112" y="379.417">timestamp to dateupdate ให้ดี</text><polygon fill="#A80036" points="537,409.9766,547,413.9766,537,417.9766,541,413.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="274" x2="543" y1="413.9766" y2="413.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="281" y="409.1201">บอก Cloud ว่าข้อมูลได้ sync แล้ว</text><rect fill="#FFFFFF" filter="url(#f19dynvqinrift)" height="108.1094" style="stroke: #000000; stroke-width: 2.0;" width="336.5" x="239" y="421.9766"/><polygon fill="#EEEEEE" points="239,421.9766,301,421.9766,301,429.9766,291,439.9766,239,439.9766,239,421.9766" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="252" y="437.4717">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="258.75" y="457.4717">ข้อควรระวัง</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="301" x="258.75" y="473.8232">- ห้ามเปลี่ยน Object id ให้ใช้ name กับ idcard เป็น key</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="258.75" y="490.1748">- ตรวจสอบ role ให้ดี</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="258.75" y="506.5264">- ตัวแปร isActivated ให้คงไว้</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="258.75" y="522.8779">- link.isSynced = true</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="183" x="398.5" y="13.3809">update ข้อมูล user จาก cloud ไป jhcisdb</text><!--MD5=[d17db79cec7ed575c373a18e49efb10b]
@startuml
header update ข้อมูล user จาก cloud ไป jhcisdb
title __**Update user**__\nCloud to jhcisdb\n
  jhcisdb -> Client: ดึงข้อมูลรายการ User
  Client <- Cloud: ดึงข้อมูลรายการ User
  activate Client
  Client <- - Client: ตรวจสอบหารายการที่มีการ Update to jhcisdb
  note left
    ตรวจสอบจาก Timestamp
    ดูว่าเวลาไหนจาก Cloud มากกว่า jhcisdb
  end note

  jhcisdb <- Client: Update ข้อมูล User
  ref over jhcisdb, Client
    ข้อควรระวัง
    - ให้ใช้ name กับ idcard เป็น key
    - ตรวจสอบเรื่องแปลงเวลา
      timestamp to dateupdate ให้ดี
  end ref

  Client -> Cloud: บอก Cloud ว่าข้อมูลได้ sync แล้ว
  ref over Client, Cloud
    ข้อควรระวัง
    - ห้ามเปลี่ยน Object id ให้ใช้ name กับ idcard เป็น key
    - ตรวจสอบ role ให้ดี
    - ตัวแปร isActivated ให้คงไว้
    - link.isSynced = true
  end ref

@enduml

PlantUML version 1.2020.02(Sun Mar 01 17:22:07 ICT 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_181-b13
Operating System: Windows 10
Default Encoding: MS874
Language: en
Country: US
--></g></svg>